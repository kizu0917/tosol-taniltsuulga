<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <title>Морь уралдаан</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: saddlebrown;
      text-align: center;
    }

    .shagai-row { /*4 shagaig hevte bairluln dundn zaitai*/
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
    }

    .shagai { /*zurag bur 100 haritsah ni 100 bna irmeg ni dugui*/
      width: 100px;
      height: 100px;
      object-fit: cover;
      border: 2px solid #ccc;
      border-radius: 8px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      background: burlywood;
      color: saddlebrown;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px;
    }

    .board {
      width: 800px;
      margin: 0 auto;
      padding: 20px;
      border: 5px solid black;
      position: relative;
    }

    .player {
      position: relative;
      margin: 30px 0;
    }

    .track {/*uraldaani shugam*/
      height: 60px;
      border-top: 3px dashed #000;
      position: relative;
    }

    .horse { /*morini zurag animation tai*/
      width: 50px;
      position: absolute;
      top: -30px;
      left: 0;
      transition: left 0.5s ease;
    }

    .finish-line { /*bariani zurvas */
      position: absolute;
      left: 600px;
      top: -40px;
      width: 10px;
      height: 100px;
      background: repeating-linear-gradient( /*shatrin heetei zurvas*/
        45deg,
        black,
        black 5px,
        white 5px,
        white 10px
      );
    }

    .step-marks {
      display: flex;
      justify-content: space-between;
      position: absolute;
      top: 20px;
      left: 0;
      width: 600px;
      pointer-events: none;
    }

    .step-marks div {
      width: 7px;
      height: 20px;
      background: black;
    }

    #winner { /* winner text*/
      font-size: 24px;
      font-weight: bold;
      color: purple;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h2>Морь уралдаан</h2>

  <!-- Shagai zurguud javascriptees handahad ashiglana -->
  <div class="shagai-row">
    <img id="s1" class="shagai" src="images/морь.png" alt="шагай">
    <img id="s2" class="shagai" src="images/хонь.png" alt="шагай">
    <img id="s3" class="shagai" src="images/тэмээ.png" alt="шагай">
    <img id="s4" class="shagai" src="images/ямаа.png" alt="шагай">
  </div>

  <button onclick="throwShagai()">Шагай хаях</button>
  <button onclick="resetGame()">Restart</button>

  <div id="winner"></div>

  <!--  Mori uraldaanii heseg -->
  <div class="board">
    <div>player 1</div>
    <div class="player">
      <img src="images/морь.png" class="horse" id="horse1">
      <div class="track">
        <div class="finish-line"></div>
        <div class="step-marks">
          <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
        </div>
      </div>
    </div>

    <div>player 2</div>
    <div class="player">
      <img src="images/морь.png" class="horse" id="horse2">
      <div class="track">
        <div class="finish-line"></div>
        <div class="step-marks">
          <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const shagaiImages = [
      'images/морь.png',
      'images/хонь.png',
      'images/тэмээ.png',
      'images/ямаа.png'
    ];

    const defaultShagai = ['морь.png', 'хонь.png', 'тэмээ.png', 'ямаа.png'];
    let currentPlayer = 1;
    let horse1Pos = 0;
    let horse2Pos = 0; //morinii bairlal hadgalna
    const finishLine = 550; // 600px - 50px morinii urgun

  //toglogc ni shidehed ajillana
    function throwShagai() {
      if (horse1Pos >= finishLine || horse2Pos >= finishLine) return;

      let countMori = 0;

      for (let i = 1; i <= 4; i++) {
        const rand = Math.floor(Math.random() * 4);
        document.getElementById(`s${i}`).src = shagaiImages[rand];
        if (rand === 0) countMori++;
      }
// rand ni mori mori garval +duulne
      const move = countMori * 66.6; // heden px uragshlah ni 

      if (currentPlayer === 1) {
        horse1Pos += move;
        if (horse1Pos > finishLine) horse1Pos = finishLine;
        document.getElementById("horse1").style.left = horse1Pos + "px";
        currentPlayer = 2;
      } else {
        horse2Pos += move;
        if (horse2Pos > finishLine) horse2Pos = finishLine;
        document.getElementById("horse2").style.left = horse2Pos + "px";
        currentPlayer = 1;
      }

      checkWinner();
    } //daraagin toglogchig solino

    function checkWinner() { //bariand hursen eshig shalgna hursen bol zarlana
      const winnerDiv = document.getElementById("winner");
      if (horse1Pos >= finishLine) {
        winnerDiv.textContent = "Player 1 ялав!";
      } else if (horse2Pos >= finishLine) {
        winnerDiv.textContent = "Player 2 ялав!";
      }
    }

    function resetGame() { //togloom dahin ehluuleh buh bairlal 0 mori bairluga butsna shagain zurg tomroh dhiad
      horse1Pos = 0;
      horse2Pos = 0;
      currentPlayer = 1;

      document.getElementById("horse1").style.left = "0px";
      document.getElementById("horse2").style.left = "0px";

      // anhnii shagai haruulah
      document.getElementById("s1").src = "images/морь.png";
      document.getElementById("s2").src = "images/хонь.png";
      document.getElementById("s3").src = "images/тэмээ.png";
      document.getElementById("s4").src = "images/ямаа.png";

      document.getElementById("winner").textContent = "";
    }
  </script>

</body>
</html>