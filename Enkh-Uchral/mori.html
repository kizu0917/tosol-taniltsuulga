<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8">
  <title>–ú–æ—Ä—å —É—Ä–∞–ª–¥–∞–∞–Ω</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #fff;
      text-align: center;
    }

    .shagai-row {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 20px 0;
    }

    .shagai {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border: 2px solid #ccc;
      border-radius: 8px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      background: orange;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px;
    }

    .board {
      width: 700px;
      margin: 0 auto;
      padding: 20px;
      border: 5px solid black;
      position: relative;
    }

    .player {
      position: relative;
      margin: 30px 0;
    }

    .track {
      height: 60px;
      border-top: 3px dashed #000;
      position: relative;
    }

    .horse {
      width: 50px;
      position: absolute;
      top: -30px;
      left: 0;
      transition: left 0.5s ease;
    }

    .finish-line {
      position: absolute;
      left: 600px;
      top: -40px;
      width: 10px;
      height: 100px;
      background: repeating-linear-gradient(
        45deg,
        black,
        black 5px,
        white 5px,
        white 10px
      );
    }

    .step-marks {
      display: flex;
      justify-content: space-between;
      position: absolute;
      top: 20px;
      left: 0;
      width: 600px;
      pointer-events: none;
    }

    .step-marks div {
      width: 1px;
      height: 20px;
      background: #999;
    }

    #winner {
      font-size: 24px;
      font-weight: bold;
      color: green;
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h2>–®–∞–≥–∞–π –æ—Ä—Ö–∏—Ö —Ç–æ–≥–ª–æ–æ–º</h2>

  <!-- Shagai zurguud -->
  <div class="shagai-row">
    <img id="s1" class="shagai" src="images/–º–æ—Ä—å.png" alt="—à–∞–≥–∞–π">
    <img id="s2" class="shagai" src="images/—Ö–æ–Ω—å.png" alt="—à–∞–≥–∞–π">
    <img id="s3" class="shagai" src="images/—Ç—ç–º—ç—ç.png" alt="—à–∞–≥–∞–π">
    <img id="s4" class="shagai" src="images/—è–º–∞–∞.png" alt="—à–∞–≥–∞–π">
  </div>

  <button onclick="throwShagai()">–®–∞–≥–∞–π –æ—Ä—Ö–∏—Ö</button>
  <button onclick="resetGame()">–î–∞—Ö–∏–Ω —ç—Ö–ª“Ø“Ø–ª—ç—Ö</button>

  <div id="winner"></div>

  <!--  Mori uraldaan -->
  <div class="board">
    <div>–¢–û–ì–õ–û–ì–ß 1</div>
    <div class="player">
      <img src="images/mori.jpg" class="horse" id="horse1">
      <div class="track">
        <div class="finish-line"></div>
        <div class="step-marks">
          <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
        </div>
      </div>
    </div>

    <div>–¢–û–ì–õ–û–ì–ß 2</div>
    <div class="player">
      <img src="images/mori.jpg" class="horse" id="horse2">
      <div class="track">
        <div class="finish-line"></div>
        <div class="step-marks">
          <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const shagaiImages = [
      'images/–º–æ—Ä—å.png',
      'images/—Ö–æ–Ω—å.png',
      'images/—Ç—ç–º—ç—ç.png',
      'images/—è–º–∞–∞.png'
    ];

    const defaultShagai = ['–º–æ—Ä—å.png', '—Ö–æ–Ω—å.png', '—Ç—ç–º—ç—ç.png', '—è–º–∞–∞.png'];
    let currentPlayer = 1;
    let horse1Pos = 0;
    let horse2Pos = 0;
    const finishLine = 550; // 600px - 50px morinii urgun

    function throwShagai() {
      if (horse1Pos >= finishLine || horse2Pos >= finishLine) return;

      let countMori = 0;

      for (let i = 1; i <= 4; i++) {
        const rand = Math.floor(Math.random() * 4);
        document.getElementById(`s${i}`).src = shagaiImages[rand];
        if (rand === 0) countMori++;
      }

      const move = countMori * 66.6;

      if (currentPlayer === 1) {
        horse1Pos += move;
        if (horse1Pos > finishLine) horse1Pos = finishLine;
        document.getElementById("horse1").style.left = horse1Pos + "px";
        currentPlayer = 2;
      } else {
        horse2Pos += move;
        if (horse2Pos > finishLine) horse2Pos = finishLine;
        document.getElementById("horse2").style.left = horse2Pos + "px";
        currentPlayer = 1;
      }

      checkWinner();
    }

    function checkWinner() {
      const winnerDiv = document.getElementById("winner");
      if (horse1Pos >= finishLine) {
        winnerDiv.textContent = "üèÅ –¢–æ–≥–ª–æ–≥—á 1 —è–ª–∞–≤!";
      } else if (horse2Pos >= finishLine) {
        winnerDiv.textContent = "üèÅ –¢–æ–≥–ª–æ–≥—á 2 —è–ª–∞–≤!";
      }
    }

    function resetGame() {
      horse1Pos = 0;
      horse2Pos = 0;
      currentPlayer = 1;

      document.getElementById("horse1").style.left = "0px";
      document.getElementById("horse2").style.left = "0px";

      // anhnii shagai haruulah
      document.getElementById("s1").src = "images/–º–æ—Ä—å.png";
      document.getElementById("s2").src = "images/—Ö–æ–Ω—å.png";
      document.getElementById("s3").src = "images/—Ç—ç–º—ç—ç.png";
      document.getElementById("s4").src = "images/—è–º–∞–∞.png";

      document.getElementById("winner").textContent = "";
    }
  </script>

</body>
</html>
